# Truffle

## truffle init  初始化一个空的工程

## truffle compile 编译

## truffle migrate 部署


## MakerDao
通过抵押物，生成稳定币的一个机制，

MKR治理代币 DAI稳定币 
抵押债仓
存入指定币种作为抵押物，提取和美元绑定的稳定币DAI

比如抵押10eth抵押到债仓，
通过还本金+利息可将抵押物从债仓内提取出来，抵押仓关闭。

清算率，假设150%
(1usdt = 1 DAI;)
抵押1ETH，（1ETH假设对应 300usdt美元）
提取出150DAI的稳定币，
抵押物/债务= 2/1 200%;
如果抵押物跌到抵押物跌倒150%以下，此时进行清算， 
清算规则
150DAI * 150% = 2250DAI
如果ETH跌到225usdt以下，系统会进行清算把抵押物卖出。 
清算时抛售的价格会小于市场价格，（此时拍卖的买者会有一部分的套利空间）
抛售的获得的钱中（13%作为清算罚金 77%作为抵押还债仓）

清算的罚金存在 Maker Buffer中，应对系统级别风险。

极端情况 清算时。抵押的币种出现非常严重的下跌，应对资不抵债的情况。会用到一部分 makerBuffer中的储蓄金。
如果Maker Buffer 不足还抵押仓的差价，会进行MKR拍卖，拍卖出的资金在补足储蓄仓的差的钱。

稳定费率 DAI存款利率
DAI价格>usdt价格 费率下降 
DAI价格<usdt价格 费率上升
Maker Buffer作用 
1 清算罚金
2 稳定费率 
Maker Buffer 会设置一个上限，如果超过这个上限，Maker Buffer中的DAI就会进行回购 MKR（MKR会升值），回购的方式是拍卖的方式。


MKR的作用，
1引入修改担保物，设置参数 
2修改DAI存款利率，

## uniswap
uniswap的v3解决了AMM去中心化交易所痛点

btc 每秒大约7dps pow机制，通过工作量证明来获得记账权，
eth 每秒大约15dps 速度慢 费用高 同构分片，都是以太坊区块上的一部分
dot 跨链，走的是异构分片区块链，波卡中有一条中心链也叫中继链，连到中继链的叫平行链，中继链 + 平行链并行处理交易，相对以太坊波卡的吞吐量更高。速度快 费率低。
pos机制，需要质押代币，质押者也是验证者，需要验证平行链的状态和转换证明。需要根据这些证明的有效性产生中继的区块。波卡中验证者通过质押DOT代币来维持中继链证明。




区块链的安全来源于共识机制，链上状态发生变化，所有节点需要达成共识。达成共识的机制是区块链是否




